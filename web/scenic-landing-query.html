<!DOCTYPE html>
<html>
		
<head>      
	<meta charset='utf-8'>
	<meta name="viewport" content="width=device-width,height=device-height, user-scalable=no" />
	<title>Scenic landing query</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"/>
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

	<link rel="stylesheet" href="css/scenic-landing-query.css"/>
	<link rel="stylesheet" href="css/flights.css"/>
	
</head>


<body >
	 <!-- loading indicator should be hidden and will only be shown when loading a file -->
	<div id="loading-indicator-background" style="display: none;"></div>
	<div id="loading-indicator" style="display: none;"></div>

	<!---<div id="background" style="margin: 0; width: 100%; height: 100%; ">
		<img src="imgs/scenic_landings_bg.jpg" style="margin-bottom: 0; margin-left: 0; margin-right: 0;"></img>
	</div>-->

	<div id="main-container" style="padding: 50px; display: flex; flex-wrap: wrap; width: 100%; height: 100%;">
		<form class="row mx-0" style="width: 100%;">
			<div style="width: 100%;">
				<div class="query-input-container">
					<label class="query-input-label">Start date</label>
				</div>

				<div class="query-input-container">
					<label class="query-input-label">End date</label>
				</div>
				
				<div class="query-input-container">
					<label class="query-input-label">Flight operator</label>
				</div>

				<div class="query-input-container" style="padding-right: 0;">
					<label class="query-input-label"> </label>
				</div>
			</div>

			<div style="width: 100%;">
				<div class="query-input-container">
					<input class="query-input" type="date" id="input-start_date">
				</div>

				<div class="query-input-container">
					<input class="query-input" type="date" id="input-end_date" value="2019-01-01">
				</div>
				
				<div class="query-input-container">
					<select class="query-input" id="select-operator">
						<option value="">Select an operator</option>
					</select>
				</div>

				<div class="query-input-container mx-0" style="padding-right: 0; float: right;">
					<input class="query-input" type="submit" style="width: 65%; float: right; border:none;" value="Run query" onclick="onRunClick(event)">
				</div>
			</div>

		</form>

		<div id='result-table' style="width:100%; display: flex; overflow-x: auto; margin-top: 50px; flex-wrap: wrap;">
			<div class="row result-table-header" id="result-header-row" style="width:100%; background-color: #894C4C;">
				<div class="result-table-cell" style="width: 100%;"></div>
			</div>
			<div style="overflow-y: auto; width:100%;" >
				<div id="place-holder" style="width: 100%; text-align: center;">Select an operator and click run query to show landing fees</div>
				<div class='accordion' id='result-table-body'>
					<!--items added dynamically when query is run -->
				</div>
			</div>
		</div>

		<!--<div style="width: 100%;">
			<table id="result-table" style="width: 100%; margin-top: 50px;">
				<thead>
					<tr id="result-header-row" style="border-bottom: none;">
						<th style="width: 100%;"></th>make an empty header just to show where the result will be
					</tr>
				</thead>
				<tbody style="overflow-y: auto;">
					<tr id="result-header-row" style="border-bottom: none;">
						<td style="width: 100%;">Select an operator and click run query to show landing fees</td> and an empty row 
					</tr>
				</tbody>
				<tfoot>
					put summary stats here
				</tfoot>
			</table>
		</div>-->
		
	</div>

	<script src="js/scenic-landing-query.js"></script>
	<script type="text/javascript">
		
		//import * as flights from './js/flights.js';

		//document.getElementById('input-end_date').value = '2019-01-01';
		$(document).ready(() => {
			let today = new Date();
			$('#input-end_date').val(today.getChromeFormattedString(today));
			$('#input-start_date').val(today.addDays(-14).getChromeFormattedString());

			showLoadingIndicator()
			fillSelectOptions('select-operator', "SELECT name, code AS value FROM operators ORDER BY sort_order;", 'scenic_landings')
			.done(hideLoadingIndicator())

		})

	</script>

</body>


</html>